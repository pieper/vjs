<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/objects/frame/Frame.View.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: modules/objects/frame/Frame.View.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>'use strict';

var VJS = VJS || {};
VJS.frame = VJS.frame || {};

/**
 * Viewer of frame module.
 * It should be a group instead of a mesh!
 * So we can control border, frame, and whatever would be needed
 * @todo test!!
 * @example
 * var x = foo("test"); //it will show "test" message
 *
 * @constructor
 * @class
 */
VJS.frame.view = function(frameModel) {
    this.vjsModel = frameModel;
    this.vjsSpace = 'LPS'; // IJK, LPS, WORLD
    this.material = null;
    this.geometry = null;
};

VJS.frame.view.prototype = Object.create(THREE.Mesh.prototype);
VJS.frame.view.prototype.constructor = VJS.frame.view;

VJS.frame.view.prototype.threejsframe = function() {
    var width = this.vjsModel._columns;
    var height = this.vjsModel._rows;

    // create a frame!
    var geometry = new THREE.PlaneGeometry(width, height);

    var textureFormat = THREE.LuminanceFormat;
    if (this.vjsModel._nbChannels === 3) {
        textureFormat = THREE.RGBFormat;
    }

    window.console.log(textureFormat);

    var rampTex = new THREE.DataTexture(this.vjsModel._pixelData, width, height, textureFormat);
    rampTex.needsUpdate = true;
    rampTex.magFilter = THREE.NearestFilter;
    rampTex.minFilter = THREE.LinearMipMapLinearFilter;

    var material2 = new THREE.MeshBasicMaterial({
        map: rampTex,
        side: THREE.DoubleSide
    });

    window.console.log(material2);



    // create the geometry


    // attach the texture

    // done! view can directly be added to the threJS scene.
    // it is a "smart" threeJS object.
    THREE.Mesh.call(this, geometry, material2);


    // add border a a child....?
    // var materialBorder = new THREE.LineBasicMaterial({
    //     color: 0x0000ff
    // });
    // var geometryBorder = new THREE.Geometry();
    // geometryBorder.vertices = this.vertices;
    // // for (var i = 0; i &lt; this._sliceCore._intersections.length; i++) {
    // //     geometry.vertices.push(this._sliceCore._intersections[i]);
    // // }
    // // geometry.vertices.push(this._sliceCore._intersections);
    // var line = new THREE.Line(geometryBorder, materialBorder);

    //this.add(line);
};

// visualization tasks for a frame

// create frame  // create geometry + texture
// update frame  // update geometry + texture + window level?
// volume render a slice, etc.

// frame to RAS  // update geometry
// frame to IJK
// frame to etc.

//returns ThreeJS friendly objects
// where where do we interact wioth the content? i.e. window level, LUT

// 2D viewer? ortho camera centered on 0,0,0?
// 2D viewer always 0,0,0

// 2D + Reslice? center/lookat normal.
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="VJS.frame.model.html">model</a></li><li><a href="VJS.frame.view.html">view</a></li></ul><h3>Namespaces</h3><ul><li><a href="VJS.html">VJS</a></li><li><a href="VJS.frame.html">frame</a></li><li><a href="VJS.image.html">image</a></li><li><a href="VJS.stack.html">stack</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Wed May 13 2015 12:21:03 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
